database:
  dsn: "postgres://postgres:password@localhost:5432/streamforge?sslmode=disable"

pipeline:
  max_workers: 4
  ff_mpeg_path: "ffmpeg"  # or path to your ffmpeg binary
  retry:
    max_attempts: 3
    initial_interval_sec: 1.0
    backoff_coefficient: 2.0
  vmaf:
    enabled: true
    min_score: 80.0

storage:
  type: "local"  # options: local, s3
#  s3:
#    bucket: "your-bucket-name"
#    region: "us-east-1"
#    access_key_id: "your-access-key"
#    secret_access_key: "your-secret-key"

transcode:
  - codec: "libx264"
    bitrate: "1500k"
    resolution: "1080"
  - codec: "libx264"
    bitrate: "1000k"
    resolution: "720"
  - codec: "libx264"
    bitrate: "500k"
    resolution: "480"
  - codec: "libx264"
    bitrate: "250k"
    resolution: "360"

package:
  - format: "hls"
    segment_duration: 5
    llhls: true
    output_path: "playlist.m3u8"

plugins:
  # Text watermark (default)
  - name: "watermark"
    enabled: true
    config:
      type: "text"  # or "image"
      text: "StreamForge"
      position: "bottom-right"  # top-left, top-right, bottom-left, bottom-right
      font_size: 24
      font_color: "white"
      alpha: 0.8  # 0.0 (transparent) to 1.0 (opaque)
      padding: 10  # pixels from edge

  # Image watermark example (commented out)
  # - name: "watermark"
  #   enabled: true
  #   config:
  #     type: "image"
  #     image_path: "./assets/logo.png"  # Path to watermark image
  #     position: "bottom-right"
  #     alpha: 0.8
  #     padding: 10
  #     image_scale: 0.1  # Scale to 10% of video size
  #     # OR specify exact dimensions:
  #     # image_width: 200
  #     # image_height: 100

logging:
  level: "info"
  output: "console"
